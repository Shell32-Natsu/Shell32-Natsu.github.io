# This is a basic workflow to help you get started with Actions

name: issues

# Controls when the action will run. Triggers the workflow on push or pull request
# events but only for the src branch
on:
  issues:
    types: [opened, edited]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    
    - name: Get Issue Info
      id: issue-info
      env:
        ISSUE: ${{toJson(github.event.issue)}}
      run: |
        ISSUE="${ISSUE//$'\n'}"
        echo "::set-output name=issue::$ISSUE"

    - name: Generate article
      id: generate-article
      uses: Shell32-Natsu/blog-article-from-issue-action@v1
      with:
        issueJson: ${{ steps.issue-info.outputs.issue }}
        
    - name: Show article
      run: echo "${{ steps.generate-article.outputs.acticle }}"
